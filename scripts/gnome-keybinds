#!/usr/bin/env bash
set -euo pipefail

echo "Configuring GNOME workspaces + keybindings..."

# 1) Make sure workspaces are fixed and there are at least 6
gsettings set org.gnome.mutter dynamic-workspaces false
gsettings set org.gnome.desktop.wm.preferences num-workspaces 6

# 2) Disable dock/app switching on Super+5 and Super+6
gsettings set org.gnome.shell.keybindings switch-to-application-5 "[]"
gsettings set org.gnome.shell.keybindings switch-to-application-6 "[]"

# 3) Switch to workspace 5/6 with Super+5/6
gsettings set org.gnome.desktop.wm.keybindings switch-to-workspace-5 "['<Super>5']"
gsettings set org.gnome.desktop.wm.keybindings switch-to-workspace-6 "['<Super>6']"

# 4) Move window to workspace 5/6 with Shift+Super+5/6
gsettings set org.gnome.desktop.wm.keybindings move-to-workspace-5 "['<Shift><Super>5']"
gsettings set org.gnome.desktop.wm.keybindings move-to-workspace-6 "['<Shift><Super>6']"

echo "Done."
echo "Summary:"
echo "  Super+5 / Super+6        -> switch to workspace 5 / 6"
echo "  Shift+Super+5 / +6       -> move window to workspace 5 / 6"
echo "  Dock Super+5 / +6        -> disabled"
